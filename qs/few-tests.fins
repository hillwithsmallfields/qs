config:
  files:
    - ~/open-projects/github.com/hillwithsmallfields/qs/conf/accounts.yaml
    - ~/common/finances/conversions.yaml
  debug:
    trace:
      - ORACLE
      - TREVOR POTTS
      - D.DR SOUTH STAFFS WATER
      - D.DR E.ON
      - D.DR NHSBSA PPC
      - WRESTLERS
inputs:
  directory: ~/common/qs/qs-scratch
  files:
    financisto-$SELECTION.csv:      app %s
    handelsbanken-$SELECTION.csv:   statement for %s
commands:
  - list_accounts("$OUTPUT/initial-account-names.csv")
  - show(statement for Handelsbanken current account, "$OUTPUT/statement.txt")
  - write_csv(sheet(statement for Handelsbanken current account), "$OUTPUT/statement.csv")
  - show(add_sheet(app Handelsbanken current account, statement for Handelsbanken current account, "regular", "$OUTPUT/trace-add-regular.csv"), "$OUTPUT/add-sheet.txt")
  - write_csv(sheet(add_sheet(app Handelsbanken current account, statement for Handelsbanken current account, "regular", "$OUTPUT/trace-add-regular.csv")), "$OUTPUT/handelsbanken-regular-added-from-statement-raw.csv")
  - write_csv(format_sheet(sheet(add_sheet(app Handelsbanken current account, statement for Handelsbanken current account, "regular", "$OUTPUT/trace-add-regular.csv")), "financisto"), "$OUTPUT/handelsbanken-regular-added-from-statement-as-financisto.csv")
  - show(by_day(app Handelsbanken current account), "$OUTPUT/by_day_as_account.txt")
  - show(sheet(by_day(app Handelsbanken current account)), "$OUTPUT/by_day_as_sheet.txt")
  - write_csv(sheet(by_day(app Handelsbanken current account)), "$OUTPUT/by_day_as_sheet.csv")
  - show(format_sheet(sheet(by_day(app Handelsbanken current account)), "financisto"), "$OUTPUT/by_day_as_financisto_sheet.txt")
  - write_csv(format_sheet(sheet(by_day(app Handelsbanken current account)), "financisto"), "$OUTPUT/handelsbanks-from-app-daily.csv")
  - write_csv(format_sheet(sheet(by_day(statement for Handelsbanken current account)), "financisto"), "$OUTPUT/handelsbanks-from-statement-daily.csv")
  - write_csv(format_sheet(sheet(add_sheet(by_day(app Handelsbanken current account), by_day(statement for Handelsbanken current account), "regular", "$OUTPUT/trace-add-daily-regular.csv")), "financisto"), "$OUTPUT/handelsbanken-regular-added-from-statement-as-financisto-by-daily-summaries.csv")
  - show(categories(app Handelsbanken current account), "$OUTPUT/categories.txt")
  - write_csv(categories(app Handelsbanken current account), "$OUTPUT/categories.csv")
  - list_accounts("$OUTPUT/final-account-names.csv")
